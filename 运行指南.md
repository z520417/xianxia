# 🎮 仙侠探索挖宝游戏 - 运行指南

## 📋 环境要求

- **Unity版本**: 2021.3 LTS 或更高版本
- **平台**: Windows/Mac/Linux
- **依赖包**: TextMeshPro (Unity Package Manager自动安装)

## 🚀 快速启动步骤

### 第1步：创建Unity项目
1. 打开Unity Hub
2. 创建新的**2D项目**或**3D项目**
3. 项目名称：`XianXiaGame`

### 第2步：导入脚本
1. 在项目中创建 `Scripts` 文件夹
2. 将所有脚本文件复制到对应的子文件夹中：
   ```
   Scripts/
   ├── Data/
   ├── Systems/
   ├── Managers/
   ├── UI/
   └── GameStarter.cs
   ```

### 第3步：快速场景设置

#### 3.1 创建主要GameObject
```
Hierarchy:
├── GameManager (Empty GameObject)
├── Canvas (UI Canvas)
│   ├── GameUI (Empty GameObject)
│   └── TestUI (Empty GameObject)
└── EventSystem (自动创建)
```

#### 3.2 配置GameManager
1. 选择`GameManager` GameObject
2. 添加`GameManager`组件
3. 添加`GameStarter`组件（用于测试）

#### 3.3 配置UI Canvas
1. 选择`Canvas`
2. 设置Canvas Scaler：
   - UI Scale Mode: Scale With Screen Size
   - Reference Resolution: 1920x1080

## 🎯 最简测试版本（5分钟启动）

### 创建测试UI
在Canvas下创建以下UI元素：

```
Canvas/TestUI:
├── TestPanel (Panel)
│   ├── ExploreButton (Button)
│   ├── BattleButton (Button)
│   ├── InventoryButton (Button)
│   └── LogText (TextMeshPro - Text)
└── Background (Image - 可选)
```

### 设置GameStarter组件
1. 选择`GameManager`
2. 在`GameStarter`组件中：
   - 勾选 **Auto Start Game**
   - 勾选 **Enable Debug Mode**
   - 拖拽按钮到对应字段：
     - Test Explore Button → ExploreButton
     - Test Battle Button → BattleButton  
     - Test Inventory Button → InventoryButton
     - Test Log Text → LogText

### 运行测试
1. 点击Unity的▶️播放按钮
2. 游戏会自动启动并显示消息
3. 点击`探索`按钮开始游戏！

## 🔧 完整UI版本配置

### 创建完整游戏UI
如果你想要完整的游戏界面，需要创建以下UI结构：

```
Canvas/GameUI:
├── PlayerInfoPanel
│   ├── PlayerName (TextMeshPro)
│   ├── Level (TextMeshPro)  
│   ├── Experience (TextMeshPro)
│   ├── HealthBar (Slider)
│   ├── ManaBar (Slider)
│   └── Stats (TextMeshPro组)
├── MessagePanel
│   ├── ScrollView
│   └── MessageText (TextMeshPro)
├── ActionPanel
│   ├── ExploreButton (Button)
│   ├── InventoryButton (Button)
│   ├── SaveButton (Button)
│   └── LoadButton (Button)
├── BattlePanel (初始隐藏)
│   ├── EnemyInfo
│   ├── BattleActions
│   └── TurnInfo
└── InventoryPanel (初始隐藏)
    ├── ItemGrid
    └── EquipmentSlots
```

### 配置MainGameUI组件
1. 在Canvas上添加`MainGameUI`组件
2. 将所有UI元素拖拽到对应字段

## 🎮 游戏操作说明

### 基础操作
- **探索**: 点击探索按钮开始冒险
- **战斗**: 遭遇敌人时使用攻击/防御/逃跑
- **背包**: 查看和使用物品
- **装备**: 穿戴装备提升属性

### 快速测试命令
在GameStarter组件的Inspector中，右键选择：
- `重启游戏` - 重新开始
- `清空日志` - 清除控制台日志
- `添加1000灵石` - 获得金币
- `提升等级` - 快速升级

## 🐛 常见问题解决

### 问题1：编译错误
**解决方案**：
1. 确保安装了TextMeshPro包
2. 检查所有脚本是否在正确的文件夹中
3. 重新编译：Assets → Reimport All

### 问题2：UI不显示
**解决方案**：
1. 检查Canvas设置
2. 确保UI元素的RectTransform正确
3. 检查Canvas Scaler设置

### 问题3：游戏不响应
**解决方案**：
1. 检查GameManager是否存在
2. 查看Console是否有错误信息
3. 确保EventSystem存在

### 问题4：按钮点击无效
**解决方案**：
1. 检查Button组件是否正确配置
2. 确认UI引用是否正确拖拽
3. 检查Canvas下是否有EventSystem

## 📱 移动平台适配

### Android/iOS配置
1. 切换平台：File → Build Settings
2. 选择Android或iOS
3. 调整UI：
   - Canvas Scaler改为Constant Physical Size
   - 增大按钮尺寸
   - 调整字体大小

## 🎯 性能优化建议

### 运行时优化
1. **对象池**: 预留物品生成对象
2. **UI更新**: 仅在数值变化时更新UI
3. **事件管理**: 及时注销事件监听

### 内存优化
1. **资源管理**: 及时释放ScriptableObject
2. **字符串优化**: 使用StringBuilder处理大量文本
3. **垃圾回收**: 避免频繁的内存分配

## 🔗 扩展开发

### 添加新功能
1. **新物品类型**: 继承ItemData创建
2. **新战斗技能**: 扩展BattleActionType
3. **新地图区域**: 修改探索事件权重
4. **存档系统**: 扩展SaveGame/LoadGame方法

### 美术资源
建议添加的资源：
- **UI图标**: 物品、装备、按钮图标
- **背景图**: 主界面、战斗场景背景
- **特效**: 升级、获得物品特效
- **音效**: 点击、战斗、获得奖励音效

## 📞 技术支持

如果遇到问题：
1. 查看Unity Console错误信息
2. 检查脚本的命名空间是否正确
3. 确认所有组件引用是否正确设置
4. 参考代码注释和文档

---

**🎉 恭喜！现在您可以开始享受仙侠探索挖宝的乐趣了！**